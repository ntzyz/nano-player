!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(1),i(2);var a=i(6),o=i(7),r=function(){function t(e){n(this,t),this.element=e.parent,this.style=e.style||{},this.playList=e.playList,this.barCount=e.maxBars?e.maxBars:128,this.logarithmic=!!e.logarithmic&&e.logarithmic,this.fftSize=e.fftSize,this.autoStart=!!e.autoStart&&e.autoStart,this.showVisualizer=!e.showVisualizer||e.showVisualizer,this.showProgressBar=!e.showProgressBar||e.showProgressBar,this.enableBlur="undefined"==typeof e.enableBlur||e.enableBlur,this.showLyrics=!!e.showLyrics&&e.showLyrics,this.dropRate="undefined"!=typeof e.dropRate?e.dropRate:1,this.linearRegion=e.linearRegion?e.linearRegion:[0,1],this.renderMode=e.renderMode||"canvas",this.showBuoy=!!e.showBuoy&&e.showBuoy,this.currentTrack=0,this.intervals={},this.lyrics={},this.initUI(),this.initAudio(),this.initLyrics(),this.reinit(),this.showVisualizer&&(this.spectral=new o({audio:this.domAudio,canvas:this.visualNode,logarithmic:this.logarithmic,bandCount:this.barCount,linearRegion:this.linearRegion,showBuoy:this.showBuoy,fps:60})),this.autoStart&&this.switchTo(0,!0)}return s(t,[{key:"initUI",value:function(){var t=this;this.element.style.position="relative",this.element.style.width=this.style.width||"300px",this.element.style.height=this.style.height||"300px",this.element.style.overflow="hidden",this.element.classList.add("__nano_player__"),this.uiStatus="unfocus",this.uiCollection={},this.showingFreq=[];var e=a({tagName:"div",classList:["cover"],style:{overflow:"hidden"}}),n=a({tagName:"div",classList:["cover","hidden"],style:{zIndex:3}}),s=a({tagName:"h1",classList:["songTitle"]}),o=a({tagName:"h2",classList:["songArtist"]}),r=a({tagName:"div",classList:["lyrics"]}),l=a({tagName:"div",classList:["cover","hidden"],style:{zIndex:"3",margin:"0 auto"}}),c=a({tagName:"div",classList:["controls"]}),u=a({tagName:"i",classList:["fa","fa-play","controlButton"],attr:{"aria-hidden":!0},style:{fontSize:"3em",marginLeft:"10%",marginRight:"10%"},eventListener:{click:function(e){"unfocus"!=t.uiStatus&&(e.stopPropagation(),t.domAudio.paused?t.play():t.pause())}}}),h=a({tagName:"i",classList:["fa","fa-forward","controlButton"],attr:{"aria-hidden":!0},style:{fontSize:"3em"},eventListener:{click:function(e){"unfocus"!=t.uiStatus&&(e.stopPropagation(),t.nextTrack())}}}),d=a({tagName:"i",classList:["fa","fa-backward","controlButton"],attr:{"aria-hidden":!0},style:{fontSize:"3em"},eventListener:{click:function(e){"unfocus"!=t.uiStatus&&(e.stopPropagation(),t.prevTrack())}}}),f=a({tagName:"div",classList:["progress"],style:{overflow:"hidden"},eventListener:{click:function(e){if("unfocus"!=t.uiStatus){e.stopPropagation();var i=f.getBoundingClientRect(),n=i.left;t.domAudio.currentTime=t.domAudio.duration*(e.clientX-n)/f.clientWidth,t.updateProgress()}}}}),p=a({tagName:"div",style:{height:"100%",backgroundColor:"white"}});f.appendChild(p);var g=void 0;g=a("canvas"===this.renderMode?{tagName:"canvas",classList:["visualizer"]}:{tagName:"div",classList:["visualizer"]});var y=a({tagName:"i",classList:["fa","fa-list-ul","navButton"],attr:{"aria-hidden":!0},style:{position:"absolute",bottom:"3%",right:"3%",fontSize:"1.2em",color:"white"},eventListener:{click:function(i){"unfocus"!=t.uiStatus&&(i.stopPropagation(),e.classList.add("outside-left"),b.classList.remove("outside-right"))}}}),v=a({tagName:"div",classList:["cover"],style:{zIndex:"2"}}),m=a({tagName:"div",classList:["cover"],style:{zIndex:"1",backgroundSize:"cover"}}),w=a({tagName:"div",classList:["cover"],innerHTML:i(9),style:{backgroundColor:"white"}}),b=a({tagName:"div",classList:["cover","outside-right","playlist"],style:{backgroundColor:"black"}}),_=a({tagName:"div",parent:b,classList:["headbar"]}),L=(a({tagName:"i",parent:_,classList:["fa","fa-chevron-left","navButton"],attr:{"aria-hidden":!0},style:{position:"absolute",left:"3%",fontSize:"1.2em",lineHeight:"44px",color:"white"},eventListener:{click:function(i){"unfocus"!=t.uiStatus&&(i.stopPropagation(),e.classList.remove("outside-left"),b.classList.add("outside-right"))}}}),a({tagName:"span",parent:_,style:{lineHeight:"44px"},innerHTML:"播放列表"}),a({tagName:"div",classList:["listContainer"],parent:b})),C=a({tagName:"div",parent:L});this.playListElem=[];var x=function(e){var i=document.createElement("DIV");i.className="list",i.offset=e;var n=document.createElement("DIV");n.className="face",n.style.backgroundImage="url('"+t.playList[e].cover+"')";var s=document.createElement("DIV");s.className="title",s.innerHTML=t.playList[e].title+' <br /> <span style="font-size: 0.8em">'+t.playList[e].artist+"</span>",i.appendChild(n),i.appendChild(s),i.addEventListener("click",function(){t.switchTo(i.offset)}),C.appendChild(i),t.playListElem.push(i)};for(var T in this.playList)x(T);if(n.appendChild(o),n.appendChild(s),n.appendChild(r),e.appendChild(n),c.appendChild(d),c.appendChild(u),c.appendChild(h),l.appendChild(c),this.showProgressBar&&l.appendChild(f),l.appendChild(g),l.appendChild(y),e.appendChild(l),e.appendChild(v),e.appendChild(m),e.appendChild(w),this.element.appendChild(e),this.element.appendChild(b),s.style.minWidth=this.element.clientWidth+"px",this.element.clientWidth<s.clientWidth&&!function(){var e=s.clientWidth,i=0;s.innerText=s.innerText+"    "+s.innerText;var n=function(){s.style.marginLeft=i+"px",i-=1,i+e<=0&&(i=0)};t.intervals.songTitleMarq=setInterval(n,20)}(),e.addEventListener("click",function(e){"unfocus"==t.uiStatus?(t.enableBlur&&[m,w].forEach(function(t){return t.classList.add("blur")}),[u,d,h,f].forEach(function(t){t.classList.add("pointer")}),v.style.backgroundColor="rgba(0, 0, 0, .5)",[n,l].forEach(function(t){t.classList.remove("hidden")}),t.uiStatus="focus"):(t.enableBlur&&[m,w].forEach(function(t){return t.classList.remove("blur")}),[u,d,h,f].forEach(function(t){t.classList.remove("pointer")}),v.style.backgroundColor="",[n,l].forEach(function(t){t.classList.add("hidden")}),t.uiStatus="unfocus")}),this.visualNode=g,this.lrcNode=r,this.progressBar=p,"canvas"===this.renderMode){var k=g.getBoundingClientRect();g.width=k.width*window.devicePixelRatio*2,g.height=k.height*window.devicePixelRatio*2,this.ctx=this.visualNode.getContext("2d")}this.uiCollection={container:e,mediainfo:n,songTitle:s,songArtist:o,lyrics:r,controller:l,controls:c,playButton:u,nextButton:h,prevButton:d,progress:f,progressInner:p,visualizer:g,overlay:v,cover:m,legacyCover:w}}},{key:"initAudio",value:function(){var t=this;this.domAudio=document.createElement("AUDIO"),this.domAudio.crossOrigin="anonymous",this.element.appendChild(this.domAudio),this.domAudio.addEventListener("ended",function(){t.nextTrack()})}},{key:"initLyrics",value:function(){var t=this;if(this.showLyrics){if(this.updateLyrics=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var i=1e3*t.domAudio.currentTime;t.lyrics.lines;for(t.lyrics.table.length==t.lyrics.lines&&clearInterval(t.intervals.lyrics);t.lyrics.table[t.lyrics.lines-1]&&t.lyrics.table[t.lyrics.lines-1].offset>i;)t.lyrics.lines--;for(;t.lyrics.table[t.lyrics.lines].offset<=i;)e?(t.lrcNode.innerText=t.lyrics.table[t.lyrics.lines].lyric,t.lyrics.lines++):(t.lrcNode.style.opacity=.5,t.lyrics.lines++,setTimeout(function(){t.lrcNode.innerText=t.lyrics.table[t.lyrics.lines-1].lyric,t.lrcNode.style.opacity=1},50))}catch(e){clearInterval(t.intervals.lyrics)}},!this.nowPlaying.lrc)return this.lyrics.hasListener&&this.domAudio.removeEventListener("seeking",this.updateLyrics),this.lyrics={},void(this.lrcNode.innerText="♪～(￣ε￣)");this.lyrics.table=[];var e=[];this.nowPlaying.lrc.split("[").forEach(function(i,n){t.nowPlaying.lrcOffset=t.nowPlaying.lrcOffset?t.nowPlaying.lrcOffset:0;var s=function(e){return 1e3*(60*e[1]+1*e[2])+10*e[3].substr(0,2)+t.nowPlaying.lrcOffset};if(""!=i&&("["!=i[0]&&(i="["+i),/\[(\d+):(\d+).(\d+)\](.*)/.test(i))){var a=i.match(/\[(\d+):(\d+).(\d+)\](.*)/);if(""==a[4]){e.push(n);var o=s(a);return void t.lyrics.table.push({offset:o,lyric:""})}var r=s(a);for(t.lyrics.table.push({offset:r,lyric:a[4]});e.length>0;){var l=e.shift()-1;t.lyrics.table[l].lyric=a[4]}}}),this.lyrics.table.sort(function(t,e){return t.offset-e.offset}),this.lyrics.hasListener||(this.domAudio.addEventListener("seeking",this.updateLyrics),this.lyrics.hasListener=!0),this.lyrics.lines=0}}},{key:"updateProgress",value:function(){this.showProgressBar&&(this.progressBar.style.width=100*Math.min(this.domAudio.currentTime/this.domAudio.duration,1)+"%")}},{key:"flushStatus",value:function(){this.domAudio.paused?(this.uiCollection.playButton.classList.remove("fa-pause"),this.uiCollection.playButton.classList.add("fa-play")):(this.uiCollection.playButton.classList.remove("fa-play"),this.uiCollection.playButton.classList.add("fa-pause"))}},{key:"play",value:function(){var t=this;this.initLyrics(),this.intervals.lyrics=setInterval(function(){t.updateLyrics(!1)},20),this.intervals.progress=setInterval(function(){t.updateProgress()},200),this.spectral.start(),this.domAudio.play(),this.flushStatus()}},{key:"pause",value:function(){clearInterval(this.intervals.lyrics),this.spectral.pause(),this.domAudio.pause(),this.flushStatus()}},{key:"nextTrack",value:function(){this.switchTo(this.currentTrack+1)}},{key:"prevTrack",value:function(){this.switchTo(this.currentTrack-1)}},{key:"reinit",value:function(){var t=this;this.uiCollection.songTitle.innerHTML=this.nowPlaying.title?this.nowPlaying.title:"未知歌曲",this.uiCollection.songArtist.innerHTML=this.nowPlaying.artist?this.nowPlaying.artist:"未知艺术家",this.uiCollection.progressInner.style.width="0",this.uiCollection.cover.style.backgroundImage="url('"+this.nowPlaying.cover+"')",this.playListElem.forEach(function(e,i){i==t.currentTrack?e.classList.add("now_playing"):e.classList.remove("now_playing")}),this.domAudio.src=this.nowPlaying.url,this.initLyrics(),clearInterval(this.intervals.songTitleMarq),this.uiCollection.songTitle.style.marginLeft="",this.element.clientWidth<this.uiCollection.songTitle.clientWidth&&!function(){var e=t.uiCollection.songTitle;e.innerText=e.innerText+"        ";var i=e.clientWidth,n=40;e.innerText=e.innerText+e.innerText;var s=function(){n<0&&(e.style.marginLeft=n+"px"),n-=.5,n+i<=0&&(n=40)};t.intervals.songTitleMarq=setInterval(s,20)}(),this.lrcNode.innerHTML="",this.flushStatus()}},{key:"nowPlaying",get:function(){return this.playList[this.currentTrack]}}]),s(t,[{key:"switchTo",value:function(t,e){this.pause(),this.nowPlaying.onfinish&&!e&&this.nowPlaying.onfinish(this),this.currentTrack=t,this.currentTrack<0&&(this.currentTrack+=this.playList.length),this.currentTrack%=this.playList.length,this.reinit(),this.nowPlaying.onstart&&this.nowPlaying.onstart(this),this.play(),this.flushStatus()}}]),t}();window.Player=r},function(t,e){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",i="prototype",n=t.Element[i],s=Object,a=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},r=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},c=function(t){for(var e=a.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,s=i.length;n<s;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[i]=[],h=function(){return new c(this)};if(r[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",l(this,t)!==-1},u.add=function(){var t,e=arguments,i=0,n=e.length,s=!1;do t=e[i]+"",l(this,t)===-1&&(this.push(t),s=!0);while(++i<n);s&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,s=i.length,a=!1;do for(t=i[n]+"",e=l(this,t);e!==-1;)this.splice(e,1),a=!0,e=l(this,t);while(++n<s);a&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?e!==!0&&"remove":e!==!1&&"add";return n&&this[n](t),e===!0||e===!1?e:!i},u.toString=function(){return this.join(" ")},s.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(n,e,d)}catch(t){t.number===-2146823252&&(d.enumerable=!1,s.defineProperty(n,e,d))}}else s[i].__defineGetter__&&n.__defineGetter__(e,h)}}(window.self))},function(t,e,i){var n=i(3);"string"==typeof n&&(n=[[t.id,n,""]]);i(5)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(4)(),e.push([t.id,".__nano_player__ .cover{position:absolute;width:100%;height:100%;transition:all .3s ease;color:#fff;cursor:default}.__nano_player__ .blur{filter:blur(10px)}.__nano_player__ .hidden{opacity:0}.__nano_player__ h1.songTitle{font-weight:400;margin:1%;font-size:150%;text-align:center;white-space:pre;display:inline-block}.__nano_player__ h2.songArtist{font-weight:400;margin-top:2%;margin-bottom:0;font-size:100%;text-align:center;line-height:1em}.__nano_player__ div.lyrics{font-weight:400;margin:1%;font-size:80%;text-align:center;transition:all .05s ease}.__nano_player__ .progress{position:absolute;bottom:5%;left:25%;width:50%;height:1%;margin:0 auto;border:1px solid #fff}.__nano_player__ .controls{position:absolute;height:20%;width:100%;bottom:35%;text-align:center}.__nano_player__ .visualizer{position:absolute;bottom:7%;left:25%;width:50%;height:12%;margin:0 auto;border:1px solid transparent}.__nano_player__ canvas.visualizer{image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;-ms-interpolation-mode:nearest-neighbor}.__nano_player__ i.controlButton{min-width:50px;display:inline-block;text-align:center}.__nano_player__ .pointer,.__nano_player__ i.navButton{cursor:pointer}.__nano_player__ .outside-left{margin-left:-100%}.__nano_player__ .outside-right{margin-left:100%}.__nano_player__ .playlist{position:absolute;overflow:hidden}.__nano_player__ .headbar{background-color:#000;height:44px;width:100%;text-align:center;position:absolute}.__nano_player__ .list{width:100%;height:64px;transition:all .2s ease}.__nano_player__ .now_playing{background-color:#333}.__nano_player__ .listContainer{position:absolute;top:44px;left:0;right:-17px;bottom:0;overflow-y:scroll}.__nano_player__ .list>.face{position:absolute;height:64px;width:64px;display:inline-block;background-size:cover}.__nano_player__ .list>.title{position:absolute;padding-left:12px;left:64px;right:0;padding-top:12px;display:inline-block;text-overflow:ellipsis;overflow:hidden;line-height:20px;white-space:nowrap}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var a=this[s][0];"number"==typeof a&&(n[a]=!0)}for(s=0;s<e.length;s++){var o=e[s];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],s=f[n.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](n.parts[a]);for(;a<n.parts.length;a++)s.parts.push(c(n.parts[a],e))}else{for(var o=[],a=0;a<n.parts.length;a++)o.push(c(n.parts[a],e));f[n.id]={id:n.id,refs:1,parts:o}}}}function s(t){for(var e=[],i={},n=0;n<t.length;n++){var s=t[n],a=s[0],o=s[1],r=s[2],l=s[3],c={css:o,media:r,sourceMap:l};i[a]?i[a].parts.push(c):e.push(i[a]={id:a,parts:[c]})}return e}function a(t,e){var i=y(),n=w[w.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function o(t){t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function r(t){var e=document.createElement("style");return e.type="text/css",a(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",a(t,e),e}function c(t,e){var i,n,s;if(e.singleton){var a=m++;i=v||(v=r(e)),n=u.bind(null,i,a,!1),s=u.bind(null,i,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=l(e),n=d.bind(null,i),s=function(){o(i),i.href&&URL.revokeObjectURL(i.href)}):(i=r(e),n=h.bind(null,i),s=function(){o(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else s()}}function u(t,e,i,n){var s=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,s);else{var a=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function h(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function d(t,e){var i=e.css,n=e.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var f={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0,w=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var i=s(t);return n(i,e),function(t){for(var a=[],o=0;o<i.length;o++){var r=i[o],l=f[r.id];l.refs--,a.push(l)}if(t){var c=s(t);n(c,e)}for(var o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var b=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){"use strict";var i=function(t){if(t&&t.tagName){var e=document.createElement(t.tagName);if(t.attr)for(var i in t.attr)e.setAttribute(i,t.attr[i]);if(t.style)for(var n in t.style)e.style[n]=t.style[n];if(t.classList&&(e.className=t.classList.join(" ")),t.eventListener)for(var s in t.eventListener)e.addEventListener(s,t.eventListener[s]);return t.innerHTML&&(e.innerHTML=t.innerHTML),t.parent&&t.parent.appendChild(e),e}};t.exports=i},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(8),l=function(t){function e(t){n(this,e);var i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if("string"==typeof t.canvas){if(i.canvas=document.querySelector(t.el),!i.canvas instanceof HTMLElement)throw"Unable to get HTMLElement"}else{if(!(t.canvas instanceof HTMLElement))throw"Unknown type of element";i.canvas=t.canvas}if("CANVAS"===!i.canvas.tagName)throw"Element must be a canvas";try{i.audioContext=new AudioContext,i.audioSource=i.audioContext.createMediaElementSource(i.domAudio),i.audioAnalyser=i.audioContext.createAnalyser(),i.audioAnalyser.fftSize=t.fftSize||i.audioAnalyser.fftSize,i.audioSource.connect(i.audioAnalyser),i.audioSource.connect(i.audioContext.destination),i.freq=new Uint8Array(i.audioAnalyser.frequencyBinCount);var a=i.canvas.getBoundingClientRect();i.canvas.width=a.width*window.devicePixelRatio*2,i.canvas.height=a.height*window.devicePixelRatio*2,i.canvasContext=i.canvas.getContext("2d"),i.canvasFillStyle=t.fillStyle||"rgba(255, 255, 255, 0.3)",i.logarithmic=t.logarithmic||!1,i.bandCount=t.bandCount||32,i.linearRegion=t.linearRegion||[0,.75],i.fps=t.fps||50,i.showBuoy=t.showBuoy||!1,i.intervalId=null,i.showingBuoy=new Array(i.bandCount).fill(i.canvas.height),i.initialized=!0}catch(t){console.log("Unable to finish initialization due to this ancient browser."+t),i.initialized=!1}return i}return a(e,t),o(e,[{key:"start",value:function(){var t=this;null===this.intervalId&&(this.intervalId=setInterval(function(){t.renderFrame()},1e3/this.fps))}},{key:"pause",value:function(){clearInterval(this.intervalId),this.intervalId=null}},{key:"dispose",value:function(){}},{key:"renderFrame",value:function(){if(this.initialized){this.audioAnalyser.getByteFrequencyData(this.freq);var t=[],e=this.canvasContext;if(e.fillStyle=this.canvasFillStyle,e.clearRect(0,0,this.canvas.width,this.canvas.height),e.beginPath(),e.moveTo(0,this.canvas.height),this.logarithmic)for(var i=0;i!=this.bandCount;++i){for(var n=0,s=0,a=Math.log(this.audioAnalyser.frequencyBinCount)/this.bandCount,o=Math.exp((i-1)*a);o<=Math.exp(i*a);++o)n+=this.freq[Math.ceil(o)],s++;var r=n/s;t[i]=r,this.updateBand(i,r)}else for(var l=(this.linearRegion[1]-this.linearRegion[0])*this.audioAnalyser.frequencyBinCount,c=0;c<this.bandCount;++c){for(var u=0,h=0;h<l/this.bandCount;++h){var d=c*(l/this.bandCount)+h+this.audioAnalyser.frequencyBinCount*this.linearRegion[0];u+=this.freq[Math.ceil(d)]}var f=u/Math.ceil(l/this.bandCount);t[c]=f,this.updateBand(c,f)}if(e.lineTo(this.canvas.width,this.canvas.height),e.lineTo(0,this.canvas.height),e.fill(),this.showBuoy){this.canvasContext.strokeStyle="rgba(255, 255, 255, 1)",this.canvasContext.beginPath();for(var p=0;p<this.bandCount;++p)this.updateBuoy(p,t[p]);this.canvasContext.stroke()}}}},{key:"updateBand",value:function(t,e){var i=this.canvas.width/this.bandCount;e/=256,this.canvasContext.lineTo(Math.ceil(t*i),Math.ceil((1-e)*this.canvas.height)),this.canvasContext.lineTo(Math.ceil((t+1)*i),Math.ceil((1-e)*this.canvas.height))}},{key:"updateBuoy",value:function(t,e){var i=this.canvas.width/this.bandCount;e/=256;var n=Math.ceil((1-e)*this.canvas.height);if(this.showingBuoy[t]>n)this.showingBuoy[t]=n;else{var s=n-this.showingBuoy[t];this.showingBuoy[t]+=s/10}this.canvasContext.moveTo(Math.ceil(t*i),Math.ceil(this.showingBuoy[t])-1),this.canvasContext.lineTo(Math.ceil((t+1)*i),Math.ceil(this.showingBuoy[t])-1)}}]),e}(r);t.exports=l},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(e){if(i(this,t),void 0===("undefined"==typeof e?"undefined":n(e))||void 0===n(e.audio))throw"Missing parameter.";this.domAudio=e.audio}return s(t,[{key:"start",value:function(){}},{key:"pause",value:function(){}},{key:"dispose",value:function(){}}]),t}();t.exports=a},function(t,e){"use strict";t.exports=['<svg x="0px" y="0px" viewBox="0 0 489.164 489.164" style="width: 50%; height: 50%; padding-left: 25%; padding-top: 25%">','<path d="M159.582,75.459v285.32c-14.274-10.374-32.573-16.616-52.5-16.616c-45.491,0-82.5,32.523-82.5,72.5s37.009,72.5,82.5,72.5',"\ts82.5-32.523,82.5-72.5V168.942l245-60.615v184.416c-14.274-10.374-32.573-16.616-52.5-16.616c-45.491,0-82.5,32.523-82.5,72.5",'\ts37.009,72.5,82.5,72.5s82.5-32.523,82.5-72.5V0L159.582,75.459z"/>',"<g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>","</svg>"].join(" ")}]);